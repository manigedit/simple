{"version":3,"sources":["../../src/pages/signup/signup.ts","../../src/pages/signup/signup.module.ts"],"names":[],"mappings":"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","file":"10.js","sourcesContent":["import { Component } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { CountryPickerService, ICountry } from 'ngx-country-picker';\r\nimport { IonicPage, NavController, ToastController, AlertController } from 'ionic-angular';\r\n\r\nimport { User } from '../../providers';\r\nimport { MainPage } from '../';\r\n//import {ActivateCustomerPage} from '../activate-customer/activate-customer';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-signup',\r\n  templateUrl: 'signup.html'\r\n})\r\nexport class SignupPage {\r\n  // The account fields for the login form.\r\n  // If you're using the username field with or without email, make\r\n  // sure to add it to the type\r\n  public countries: ICountry[] = [];\r\n  // Our translated text strings\r\n  private signupErrorString: string;\r\n  private nameAlertTitle: string;\r\n  private nameAlertText1: string;\r\n  private nameAlertTextConfirm: string;\r\n  private nameAlertTextDeny: string;\r\n\r\n\r\n  constructor(public navCtrl: NavController,\r\n    protected countryPicker: CountryPickerService,\r\n    public user: User,\r\n    private alertCtrl: AlertController,\r\n    public toastCtrl: ToastController,\r\n    public translateService: TranslateService) {\r\n\r\n    this.translateService.get('SIGNUP_ERROR').subscribe((value) => {\r\n      this.signupErrorString = value;\r\n    });\r\n    this.translateService.get('SIGNUP_ALERT_TITLE').subscribe((value) => {\r\n      this.nameAlertTitle = value;\r\n    });\r\n    this.translateService.get('SIGNUP_ALERT_TEXT_1').subscribe((value) => {\r\n      this.nameAlertText1 = value;\r\n    });    \r\n    this.translateService.get('SIGNUP_ALERT_TEXT_NO').subscribe((value) => {\r\n      this.nameAlertTextDeny = value;\r\n    });\r\n    this.translateService.get('SIGNUP_ALERT_TEXT_YES').subscribe((value) => {\r\n      this.nameAlertTextConfirm = value;\r\n    });\r\n  }\r\n\r\n  public ngOnInit(): void {    \r\n    this.countryPicker.getCountries().subscribe((countries: ICountry[]) => //get all country\r\n    this.countries = countries);  // store it in countries\r\n  }\r\n\r\n  goToTermsAndConditions() {\r\n    this.navCtrl.push('PoliticasPrivacidadPage');\r\n  }\r\n\r\n  goToCommercialAgreement() {\r\n    this.navCtrl.push('TerminosCondicionesPage');\r\n  }\r\n\r\n  doSignup() {\r\n    let alert = this.alertCtrl.create({\r\n      title: this.nameAlertTitle,\r\n      message: this.nameAlertText1 ,\r\n      buttons: [\r\n        {\r\n          text: this.nameAlertTextDeny,\r\n          role: 'cancel',\r\n          handler: () => {\r\n            console.log('Edit clicked');\r\n          }\r\n        },\r\n        {\r\n          text: this.nameAlertTextConfirm,\r\n          handler: () => {\r\n            console.log('CONFIRMAR clicked');\r\n            console.log('trying to open signup page')\r\n            // Attempt to create the user in through our User service\r\n            this.user.create(this.account).subscribe((resp) => {\r\n              this.navCtrl.push('customer-kyc');\r\n              let toast = this.toastCtrl.create({\r\n                message: \"Please complete the KYC in order to proceed\",\r\n                duration: 3000,\r\n                position: 'top'\r\n              });\r\n              toast.present();\r\n            }, (err) => {\r\n              //this.navCtrl.push('ActivateCustomerPage');\r\n              // Unable to sign up\r\n              let toast = this.toastCtrl.create({\r\n                message: this.signupErrorString,\r\n                duration: 3000,\r\n                position: 'top'\r\n              });\r\n              toast.present();\r\n            });\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    alert.present();\r\n  }\r\n  \r\n  account: {     \r\n    email: string,     \r\n    password: string,\r\n    country: string,\r\n    commercialagreement: boolean,\r\n    privacypolity: boolean,\r\n    legalage: boolean\r\n  } = {\r\n    email: \"fintech\"+new Date().getTime().toString().trim()+\"@gmail.com\",     \r\n    password: \"Fintech01\",\r\n    country: \"MX\",\r\n    commercialagreement: false,\r\n    privacypolity: false,\r\n    legalage: false\r\n  };\r\n\r\n  checkedbtn : boolean = true;\r\n\r\n  \r\n\r\n  updateSingUpButton(event) {\r\n    console.log('updateSingUpButton new state:', event);    \r\n    if(event.checked){      \r\n        if (this.account.commercialagreement == true && this.account.legalage == true && this.account.privacypolity == true)\r\n        {\r\n          this.checkedbtn = false;\r\n          console.log(\"checkedbtn value\",this.checkedbtn);\r\n        } \r\n    }\r\n    else{\r\n        this.checkedbtn = true;\r\n    } \r\n  }\r\n\r\n  prepareCountryImageWithLabelSelector() {\r\n\t\tsetTimeout(() => {\r\n\t\t\tlet buttonElements = document.querySelectorAll('div.alert-radio-group button');\r\n\t\t\tif (!buttonElements.length) {\r\n\t\t\t\tthis.prepareCountryImageWithLabelSelector();\r\n\t\t\t} else {\r\n\t\t\t\tfor (let index = 0; index < buttonElements.length; index++) {\r\n          let buttonElement = buttonElements[index];\r\n\t\t\t\t\tlet optionLabelElement = buttonElement.querySelector('.alert-radio-label');\r\n          //let image = optionLabelElement.innerHTML.trim().substr(0,2);\r\n          //console.log(\"IMAGEN \",image);\r\n          var totalWords = optionLabelElement.innerHTML.trim();\r\n          var firstWord = totalWords.replace(/ .*/,'');\r\n          //console.log(\"CODIGO ISO \",firstWord);\r\n\t\t\t\t\tbuttonElement.classList.add('imagewithlabelselect', 'image_' + firstWord);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, 100);\r\n  }\r\n  \r\n  setCountryImageWithLabel(image) {\r\n\t\tconsole.log('Selected image with label is', this.account.country);\r\n  }\r\n  \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.ts","import { NgModule } from '@angular/core';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\n\r\nimport { SignupPage } from './signup';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SignupPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(SignupPage),\r\n    TranslateModule.forChild()\r\n  ],\r\n  exports: [\r\n    SignupPage\r\n  ]\r\n})\r\nexport class SignupPageModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.module.ts"],"sourceRoot":""}